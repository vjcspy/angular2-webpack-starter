<div class="sale-reports">
  <div class="panel-filter clearfix">
    <div class="fillter-top clearfix">
      <div class="pull-left gray-bg">
        <div class="dropdown filter filter-main">
          <button class="btn btn-default btn-filter-main" type="button" id="filter-main"
                  (click)="enableFilterMeasure()" [disabled]="checkDisableFilter()">
            <i class="fa fa-filter fa-fw"></i>
          </button>
        </div>

        <div class="form-group select-type-report">
          <div class="input-group clearfix">
            <span class="input-group-addon">@</span>
            <report-select [elementData]="getListReportType()"
                           [(model)]="getDataFilter()['report_type']"
                           (modelChange)="saleReportService.getSaleReport(false, false, true)"></report-select>
          </div>
        </div>
        <!--<div class="form-group select-pay-report">-->
        <!--<div class="input-group">-->
        <!--<report-select [elementData]="getListReportType()"-->
        <!--[(model)]="getDataFilter()['report_type']"-->
        <!--(modelChange)="saleReportService.getSaleReport(false, false, true)"></report-select>-->
        <!--</div>-->
        <!--</div>-->
        <div class="date-range-wrap">
          <div class="calendar-group input-group">
            <span class="input-group-addon"><i class="ion-ios-calendar-outline"></i></span>
            <report-time-select [model]="getDataFilter()"></report-time-select>
          </div>
        </div>
      </div>



      <div class="pull-right">
        <div class="report-filter-action">
          <button class="btn btn-default btn-filter-main" (click)="exportCSV()"
                  [disabled]="checkDataNullForHidden()">
            <i class="icon-export"></i>
            Export CSV
          </button>
        </div>
        <div class="dropdown filter report-filter search-filter open">
          <button class="btn btn-custom" (click)="isDisplayCustomize = !isDisplayCustomize">Customize</button>
          <ul class="dropdown-menu filter-dropdown" *ngIf="isDisplayCustomize">
            <li class="arrow">
              <i class="icon-arr ion-arrow-up-b"></i>
            </li>
            <li class="search-form">
              <form class="form-horizontal">
                <i class=" ion-ios-search"></i>
                <input class="form-control search-customize-column" placeholder="Search Measure" type="text"
                       [(ngModel)]="searchString"
                       name="searchString"
                       (keyup)="searchMeasure($event.target.value)">
              </form>
            </li>
            <li class="filter-all" (click)="selectAll()">
              <div class="div-customize-column">
                <input class="all-customize-column" id="filter-date" type="checkbox" [checked]="selectedAll">
                <label for="filter-date" class="all-text-customize-column">All</label>
              </div>
            </li>
            <li class="customize-column" *ngFor="let measure_data of measures; trackBy:trackByValue" (click)="checkIfAllSelected(measure_data);">
              <div class="div-customize-column">
                <input type="checkbox" id="{{measure_data.measure_data['value']}}" [checked]="measure_data.selected"
                       class="checkbox-customize-column">
                <label for="{{measure_data.measure_data['value']}}">{{measure_data.measure_data['label']}}</label>
              </div>
            </li>
          </ul>
        </div>
        <!-- Popup modal Customize -->
        <div id="customize-modal" class="modal fade">
          <div class="modal-dialog" style="margin: 130px auto;">
            <div class="modal-content ">
              <div class="modal-header">
                <h2 class="modal-title">Column display</h2>
                <button type="button" class="close ion-close" data-dismiss="modal"></button>
              </div>
              <div class="modal-body">
                <div class="column-display">
                  <form action="">
                    <div class="form-group">
                      <report-multi-select [elementData]="getListMeasureByReportType(getDataFilter()['report_type'])"
                                           [(model)]="getDataFilter()['measures']"
                                           (modelChange)="changeMeasure()"></report-multi-select>
                    </div>
                    <div class="column-selected">
                      <strong>Column selected:</strong>
                      <button *ngFor="let measureSelect of getDataFilter()['measures']" class="lbl-selected">
                        {{measureSelect}}
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Popup modal - end-->
      </div>

    </div>
    <report-filter [report_type]="getDataFilter()['report_type']"></report-filter>
  </div>
  <div class="database-content">
    <go-top-button [html]="'<i class=\'fa fa-arrow-up\'></i>'"
                   [animate]="true"
                   [speed]="50"
                   [acceleration]="2"
                   [scrollDistance]="300">
    </go-top-button>
    <sale-report-table [data_filter]="getDataFilter()"
                       [data_view]="getDataView()"
                       [measure]="getDataFilter()['measures']"
                       [detail_item_value] =" getDataFilter()['item_view_detail']"
                       [base_currency_code]="saleReportService.viewData['symbol_currency']"></sale-report-table>
  </div>
</div>
<div class="popup-overlay" style="z-index: 9998" [ngClass]="{open: !saleReportService.viewState['isOverLoad']}">
  <div class="sk-circle">
    <div class="sk-circle1 sk-child"></div>
    <div class="sk-circle2 sk-child"></div>
    <div class="sk-circle3 sk-child"></div>
    <div class="sk-circle4 sk-child"></div>
    <div class="sk-circle5 sk-child"></div>
    <div class="sk-circle6 sk-child"></div>
    <div class="sk-circle7 sk-child"></div>
    <div class="sk-circle8 sk-child"></div>
    <div class="sk-circle9 sk-child"></div>
    <div class="sk-circle10 sk-child"></div>
    <div class="sk-circle11 sk-child"></div>
    <div class="sk-circle12 sk-child"></div>
  </div>
</div>
